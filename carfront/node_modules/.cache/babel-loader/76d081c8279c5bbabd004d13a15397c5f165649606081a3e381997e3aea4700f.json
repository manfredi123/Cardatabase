{"ast":null,"code":"var _jsxFileName = \"/Users/manfredi/Documents/Spring Boot & React/Eclipse Workspace/carfront/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { SERVER_URL } from './constants';\nimport { Button } from \"@mui/material\";\nimport TextField from \"@mui/material\";\nimport Stack from \"@mui/material\";\nimport Carlist from \"./Carlist\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [user, setUser] = useState({\n    username: '',\n    password: ''\n  });\n  const [isAuthenticated, setAuth] = useState(false);\n  const handleChange = event => {\n    setUser({\n      ...user,\n      [event.target.name]: event.target.value\n    });\n  };\n  const login = () => {\n    fetch(SERVER_URL + 'login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(res => {\n      const jwtToken = res.headers.get('Authorization');\n      if (jwtToken !== null) {\n        sessionStorage.setItem(\"jwt\", jwtToken);\n        setAuth(true);\n      }\n    }).catch(err => console.error(err));\n  };\n  if (isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Carlist, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 16\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        alignItems: \"center\",\n        mt: 2,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          name: \"username\",\n          label: \"Username\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"password\",\n          label: \"Password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: login,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(Login, \"/N149GNinHNw1OFcWiD3H4VPZ1Q=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","SERVER_URL","Button","TextField","Stack","Carlist","jsxDEV","_jsxDEV","Login","_s","user","setUser","username","password","isAuthenticated","setAuth","handleChange","event","target","name","value","login","fetch","method","headers","body","JSON","stringify","then","res","jwtToken","get","sessionStorage","setItem","catch","err","console","error","fileName","_jsxFileName","lineNumber","columnNumber","children","spacing","alignItems","mt","label","onChange","variant","color","onClick","_c","$RefreshReg$"],"sources":["/Users/manfredi/Documents/Spring Boot & React/Eclipse Workspace/carfront/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { SERVER_URL } from './constants';\nimport { Button } from \"@mui/material\";\nimport TextField from \"@mui/material\";\nimport Stack from \"@mui/material\";\nimport Carlist from \"./Carlist\";\n\nfunction Login() {\n    const [user, setUser] = useState({\n        username: '',\n        password: ''\n    });\n\n    const [isAuthenticated, setAuth] = useState(false);\n\n    const handleChange = (event) => {\n        setUser({...user,\n            [event.target.name] : event.target.value});\n    }\n    \n    const login = () => {\n        fetch(SERVER_URL + 'login', {\n            method: 'POST',\n            headers: {'Content-Type':'application/json'},\n            body: JSON.stringify(user)\n        })\n        .then(res => {\n            const jwtToken = res.headers.get('Authorization');\n            if(jwtToken !== null){\n                sessionStorage.setItem(\"jwt\",jwtToken);\n                setAuth(true);\n            }\n        })\n        .catch(err => console.error(err))\n    }\n    if(isAuthenticated) {\n        return <Carlist />;\n    }\n    else {\n        return (\n            <div>\n            <Stack spacing={2} alignItems='center' mt={2}>\n                <TextField\n                    name=\"username\"\n                    label=\"Username\"\n                    onChange={handleChange} />\n                <TextField\n                    name=\"password\"\n                    label=\"Password\"\n                    onChange={handleChange} />\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={login}>\n                        Login\n                    </Button>\n            </Stack>\n        </div>\n        )\n    }\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}